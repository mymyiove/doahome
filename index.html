import React, { useState, useEffect, useMemo } from 'react';
import { 
  Heart, Home, Train, Baby, TrendingUp, AlertTriangle, 
  MapPin, CheckCircle, Wallet, Car, School, Coffee,
  ArrowRight, Star, Clock, ShieldAlert, BadgeCheck,
  Calculator, CheckSquare, Camera, ChevronDown, Menu, X
} from 'lucide-react';

// --- Helper Functions ---
const formatCurrency = (value) => {
  return new Intl.NumberFormat('ko-KR', { style: 'currency', currency: 'KRW', maximumFractionDigits: 0 }).format(value * 10000);
};

// --- Components ---

const Section = ({ children, className = "", id = "" }) => (
  <section id={id} className={`py-16 md:py-24 px-4 md:px-8 max-w-7xl mx-auto scroll-mt-20 ${className}`}>
    {children}
  </section>
);

const SectionTitle = ({ children, subtitle, icon: Icon }) => (
  <div className="mb-12 text-center group">
    <div className="flex items-center justify-center gap-2 mb-4">
      {Icon && <Icon className="w-6 h-6 text-blue-500 animate-bounce" />}
      <h2 className="text-3xl md:text-5xl font-extrabold text-slate-800 tracking-tight group-hover:text-blue-600 transition-colors">
        {children}
      </h2>
    </div>
    {subtitle && (
      <div className="w-24 h-1 bg-gradient-to-r from-blue-400 to-teal-300 mx-auto rounded-full mb-4"></div>
    )}
    <p className="text-lg text-slate-500 font-medium">{subtitle}</p>
  </div>
);

const Card = ({ children, className = "", highlight = false, onClick }) => (
  <div 
    onClick={onClick}
    className={`
      bg-white rounded-3xl p-6 shadow-lg transition-all duration-300 
      hover:shadow-2xl hover:-translate-y-2 relative overflow-hidden group
      ${highlight ? 'border-2 border-blue-500 ring-4 ring-blue-50' : 'border border-slate-100'}
      ${className}
    `}
  >
    <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-blue-400 to-transparent scale-x-0 group-hover:scale-x-100 transition-transform duration-500"></div>
    {children}
  </div>
);

const Badge = ({ children, color = "blue" }) => {
  const colors = {
    blue: "bg-blue-100 text-blue-700 border-blue-200",
    green: "bg-green-100 text-green-700 border-green-200",
    red: "bg-red-100 text-red-700 border-red-200",
    purple: "bg-purple-100 text-purple-700 border-purple-200",
    yellow: "bg-yellow-100 text-yellow-800 border-yellow-200",
    dark: "bg-slate-800 text-slate-200 border-slate-700"
  };
  return (
    <span className={`px-3 py-1 rounded-full text-xs md:text-sm font-bold border ${colors[color] || colors.blue} shadow-sm`}>
      {children}
    </span>
  );
};

// --- Sub-Features ---

const LoanCalculator = () => {
  const [loanAmount, setLoanAmount] = useState(47000); // ë§Œì› ë‹¨ìœ„ (4.7ì–µ)
  const [rate, setRate] = useState(2.7); // %
  const [years, setYears] = useState(40);

  // ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜ ê³„ì‚°
  const monthlyPayment = useMemo(() => {
    const principal = loanAmount * 10000;
    const monthlyRate = rate / 100 / 12;
    const totalMonths = years * 12;
    
    if (rate === 0) return principal / totalMonths;

    const payment = (principal * monthlyRate * Math.pow(1 + monthlyRate, totalMonths)) / (Math.pow(1 + monthlyRate, totalMonths) - 1);
    return Math.round(payment);
  }, [loanAmount, rate, years]);

  return (
    <Card className="bg-slate-900 text-white border-none ring-0 h-full">
      <div className="flex items-center gap-2 mb-6 text-green-400">
        <Calculator size={24} />
        <h3 className="text-xl font-bold">ì‹¤ì‹œê°„ ëŒ€ì¶œ ê³„ì‚°ê¸°</h3>
      </div>

      <div className="space-y-6">
        <div>
          <div className="flex justify-between mb-2 text-sm text-slate-300">
            <span>ëŒ€ì¶œê¸ˆì•¡ (ë””ë”¤ëŒ)</span>
            <span className="font-bold text-white">{(loanAmount / 10000).toFixed(1)}ì–µ ì›</span>
          </div>
          <input 
            type="range" min="30000" max="50000" step="1000" 
            value={loanAmount} onChange={(e) => setLoanAmount(Number(e.target.value))}
            className="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-green-500"
          />
        </div>

        <div>
          <div className="flex justify-between mb-2 text-sm text-slate-300">
            <span>ê¸ˆë¦¬ (ê³ ì •)</span>
            <span className="font-bold text-white">{rate}%</span>
          </div>
          <input 
            type="range" min="1.5" max="4.5" step="0.1" 
            value={rate} onChange={(e) => setRate(Number(e.target.value))}
            className="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500"
          />
        </div>

        <div className="bg-white/10 p-6 rounded-2xl text-center mt-8 backdrop-blur-sm border border-white/10">
          <p className="text-slate-400 text-sm mb-1">ì˜ˆìƒ ì›” ìƒí™˜ì•¡ (ì›ê¸ˆ+ì´ì)</p>
          <div className="text-4xl font-bold text-green-400">
            {(monthlyPayment / 10000).toLocaleString()}
            <span className="text-xl text-white ml-1">ë§Œ ì›</span>
          </div>
        </div>
        
        <p className="text-xs text-center text-slate-500">
          *40ë…„ ë§Œê¸° ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜ ê¸°ì¤€ ì¶”ì •ì¹˜ì…ë‹ˆë‹¤.
        </p>
      </div>
    </Card>
  );
};

const ChecklistItem = ({ text }) => {
  const [checked, setChecked] = useState(false);
  return (
    <div 
      onClick={() => setChecked(!checked)}
      className={`
        flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all border
        ${checked ? 'bg-blue-50 border-blue-200' : 'bg-white border-slate-100 hover:bg-slate-50'}
      `}
    >
      <div className={`
        w-6 h-6 rounded-full flex items-center justify-center transition-colors
        ${checked ? 'bg-blue-500 text-white' : 'bg-slate-200 text-slate-400'}
      `}>
        <CheckCircle size={14} />
      </div>
      <span className={`text-sm font-medium ${checked ? 'text-blue-700 line-through decoration-blue-300' : 'text-slate-600'}`}>
        {text}
      </span>
    </div>
  );
};

const FloatingNav = () => {
  const [isOpen, setIsOpen] = useState(false);

  const navItems = [
    { label: "ìš”ì•½", id: "summary", icon: Heart },
    { label: "ë¹„êµ", id: "compare", icon: TrendingUp },
    { label: "ì…ì§€", id: "location", icon: MapPin },
    { label: "ìê¸ˆ", id: "money", icon: Wallet },
    { label: "ì‹¤í–‰", id: "action", icon: CheckSquare },
  ];

  const scrollTo = (id) => {
    const el = document.getElementById(id);
    if (el) el.scrollIntoView({ behavior: 'smooth' });
    setIsOpen(false);
  };

  return (
    <div className="fixed bottom-6 left-0 right-0 z-50 flex justify-center px-4">
      <div className="bg-slate-900/90 backdrop-blur-md text-white rounded-full shadow-2xl p-1.5 flex items-center gap-1 border border-white/10">
        {navItems.map((item) => (
          <button
            key={item.id}
            onClick={() => scrollTo(item.id)}
            className="flex flex-col items-center justify-center w-14 h-14 rounded-full hover:bg-white/20 transition active:scale-95"
          >
            <item.icon size={18} className="mb-0.5" />
            <span className="text-[10px] font-medium opacity-80">{item.label}</span>
          </button>
        ))}
      </div>
    </div>
  );
};

// --- Main Application ---

export default function HousingReport() {
  const [isVisible, setIsVisible] = useState(false);

  useEffect(() => {
    setIsVisible(true);
  }, []);

  return (
    <div className="min-h-screen bg-slate-50 font-sans text-slate-800 overflow-x-hidden selection:bg-blue-200 pb-24">
      
      {/* 1. Hero Section */}
      <div className="relative h-screen flex items-center justify-center bg-slate-900 text-white overflow-hidden">
        <div className="absolute inset-0 opacity-40 bg-[url('https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80')] bg-cover bg-center animate-pulse-slow" />
        <div className="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/50 to-transparent"></div>
        
        <div className={`relative z-10 text-center px-4 max-w-4xl transition-all duration-1000 transform ${isVisible ? 'translate-y-0 opacity-100' : 'translate-y-10 opacity-0'}`}>
          <div className="mb-8 flex justify-center space-x-2 animate-fade-in-down">
            <Badge color="blue">2025ë…„ 12ì›” 3ì¼</Badge>
            <Badge color="yellow">D-Day Project</Badge>
          </div>
          <h1 className="text-4xl md:text-7xl font-black mb-6 leading-tight drop-shadow-2xl">
            ìš°ë¦¬ ê°€ì¡±ì˜<br />
            <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-emerald-300">
              ê³¨ë“ íƒ€ì„ ì „ëµ ë³´ê³ ì„œ
            </span>
          </h1>
          <p className="text-xl md:text-2xl text-slate-300 mb-10 font-light drop-shadow-md">
            9ê°œì›” ì•„ê¸°ì™€ í•¨ê»˜í•˜ëŠ” í–‰ë³µí•œ ë¯¸ë˜ë¥¼ ìœ„í•œ<br className="md:hidden"/> ë¶€ì²œ ì¼ë£¨ë¯¸ìŠ¤í…Œì´íŠ¸ ë§¤ìˆ˜ í”Œëœ
          </p>
          
          <div className="grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto">
            <div className="bg-white/10 backdrop-blur-md p-4 rounded-2xl border border-white/10 flex items-center justify-center gap-3">
              <Baby className="text-yellow-300 w-8 h-8" />
              <div className="text-left">
                <div className="text-xs text-slate-400">í˜œíƒ ëŒ€ìƒ</div>
                <div className="font-bold">25ë…„ 3ì›”ìƒ ìë…€</div>
              </div>
            </div>
            <div className="bg-white/10 backdrop-blur-md p-4 rounded-2xl border border-white/10 flex items-center justify-center gap-3">
              <Wallet className="text-green-300 w-8 h-8" />
              <div className="text-left">
                <div className="text-xs text-slate-400">ê¸ˆë¦¬ í˜œíƒ</div>
                <div className="font-bold">2%ëŒ€ ê³ ì •ê¸ˆë¦¬</div>
              </div>
            </div>
            <div className="bg-white/10 backdrop-blur-md p-4 rounded-2xl border border-white/10 flex items-center justify-center gap-3">
              <Home className="text-blue-300 w-8 h-8" />
              <div className="text-left">
                <div className="text-xs text-slate-400">ëª©í‘œ ì˜ˆì‚°</div>
                <div className="font-bold">6ì–µ ì› ìµœì ì•ˆ</div>
              </div>
            </div>
          </div>
          
          <div className="mt-16 animate-bounce opacity-50">
             <ChevronDown className="mx-auto w-8 h-8" />
          </div>
        </div>
      </div>

      {/* 2. Executive Summary */}
      <Section id="summary" className="bg-white rounded-t-[3rem] -mt-10 relative z-20 shadow-2xl">
        <div className="max-w-3xl mx-auto text-center">
          <div className="inline-block p-4 rounded-full bg-red-50 mb-6">
            <Heart className="w-12 h-12 text-red-500 fill-red-500 animate-pulse" />
          </div>
          <h2 className="text-3xl md:text-5xl font-bold mb-8 leading-tight text-slate-900">
            "9ê°œì›” ì•„ê¸°ì™€ í•¨ê»˜í•˜ëŠ” ì§€ê¸ˆ,<br/>
            <span className="text-blue-600 underline decoration-wavy decoration-blue-200">ìœ ì¼í•œ ê¸°íšŒ</span>ì…ë‹ˆë‹¤."
          </h2>
          <div className="bg-slate-50 p-8 rounded-3xl text-left shadow-inner border border-slate-100">
            <p className="text-lg leading-relaxed text-slate-600 mb-6">
              í˜„ì¬ ìš°ë¦¬ëŠ” <b>2025ë…„ 3ì›”ìƒ ìë…€</b> ë•ë¶„ì— ëŒ€í•œë¯¼êµ­ì—ì„œ ê°€ì¥ ê°•ë ¥í•œ í˜œíƒì¸ 
              <span className="inline-block bg-yellow-100 px-2 rounded mx-1 font-bold text-slate-800 border border-yellow-200">ì‹ ìƒì•„ íŠ¹ë¡€ ëŒ€ì¶œ</span>
              ì˜ ì£¼ì¸ê³µì´ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ ê¸°íšŒë¥¼ ì „ì„¸ë¡œ í˜ë ¤ë³´ë‚´ë©´, í–¥í›„ ìì‚° ê²©ì°¨ë¥¼ ë”°ë¼ì¡ê¸° ì–´ë ¤ìš¸ ê²ƒì…ë‹ˆë‹¤.
            </p>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div className="flex items-center gap-3 p-4 bg-white rounded-2xl shadow-sm border border-slate-200">
                <div className="bg-blue-100 p-3 rounded-full"><Home className="w-6 h-6 text-blue-600"/></div>
                <div>
                  <p className="text-xs text-slate-500 font-bold uppercase">Target</p>
                  <p className="font-bold text-xl text-slate-800">ë¶€ì²œ ì¼ë£¨ë¯¸ 25í‰</p>
                </div>
              </div>
              <div className="flex items-center gap-3 p-4 bg-white rounded-2xl shadow-sm border border-slate-200">
                <div className="bg-green-100 p-3 rounded-full"><Wallet className="w-6 h-6 text-green-600"/></div>
                <div>
                  <p className="text-xs text-slate-500 font-bold uppercase">Budget</p>
                  <p className="font-bold text-xl text-slate-800">ì•½ 6ì–µ ì›</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </Section>

      {/* 3. Comparison Analysis */}
      <Section id="compare" className="bg-slate-50">
        <SectionTitle subtitle="ì™œ ë‹¤ë¥¸ ê³³ì€ ì•ˆ ë˜ëŠ”ê°€?" icon={ShieldAlert}>
          ì‹¬ì¸µ ë¹„êµ ë¶„ì„
        </SectionTitle>
        
        <div className="grid grid-cols-1 md:grid-cols-4 gap-6">
          {/* Option 1: Illumi State */}
          <Card highlight={true} className="relative md:col-span-1 md:scale-105 z-10 bg-gradient-to-b from-white to-blue-50">
            <div className="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-blue-600 text-white px-4 py-1 rounded-full text-sm font-bold shadow-lg flex items-center gap-1 whitespace-nowrap">
              <Star className="w-4 h-4 fill-white animate-spin-slow" /> ê°•ë ¥ ì¶”ì²œ
            </div>
            <h3 className="text-2xl font-black text-blue-900 mb-1 text-center mt-2">ë¶€ì²œ ì¼ë£¨ë¯¸</h3>
            <p className="text-center text-blue-600 font-semibold mb-6 text-sm">ì¼ë£¨ë¯¸ìŠ¤í…Œì´íŠ¸</p>
            
            <div className="space-y-4 text-sm">
              <div className="flex justify-between border-b border-blue-100 pb-2">
                <span className="text-slate-500">í‰ê°€</span>
                <div className="flex text-yellow-400"><Star className="fill-current w-4"/><Star className="fill-current w-4"/><Star className="fill-current w-4"/><Star className="fill-current w-4"/><Star className="fill-current w-4"/></div>
              </div>
              <div className="space-y-1">
                <span className="text-xs text-slate-400 block">ì£¼íƒ ìœ í˜•</span>
                <p className="font-medium text-slate-800">2023ë…„ ì‹ ì¶• (3,700ì„¸ëŒ€)</p>
              </div>
              <div className="space-y-1">
                <span className="text-xs text-slate-400 block">ìœ¡ì•„ í™˜ê²½</span>
                <p className="font-medium text-blue-600">ì§€ìƒ ì°¨ ì—†ëŠ” ê³µì›í˜•</p>
              </div>
              <div className="bg-blue-600 text-white p-3 rounded-xl text-center font-bold shadow-lg shadow-blue-200 mt-4">
                ìœ ì¼í•œ ëŒ€ì•ˆ
              </div>
            </div>
          </Card>

          {/* Other Options */}
          {[
            { title: "ê´‘ëª… êµ¬ì¶•", sub: "í•˜ì•ˆ/ì² ì‚° ì£¼ê³µ", stars: 2, reason: "ì£¼ì°¨ë‚œ, ë…¹ë¬¼, ì™¸í’\n'ì•„ê¸° í‚¤ìš°ê¸° í—¬'" },
            { title: "êµ¬ë¡œ í•­ë™", sub: "ì§€êµ¬ë‹¨ìœ„ê³„íš", stars: 3, reason: "ê°€ê²© ëŒ€ë¹„ ì• ë§¤í•¨\nì§€í•˜ì² ì—­ ë©‚" },
            { title: "ì€í‰ ë…¹ë²ˆ", sub: "ë§¤ì…ì„ëŒ€", stars: 2, reason: "ë³¸ê°€ 1ì‹œê°„ (ê³ ë¦½)\nìì‚° ê°€ì¹˜ í•˜ë½ ìš°ë ¤" },
          ].map((opt, idx) => (
            <Card key={idx} className="opacity-70 grayscale-[50%] hover:grayscale-0 hover:opacity-100 bg-slate-100 hover:bg-white">
              <h3 className="text-lg font-bold text-slate-700 mb-1 text-center">{opt.title}</h3>
              <p className="text-center text-slate-400 text-xs mb-4">{opt.sub}</p>
              <div className="space-y-4 text-sm">
                <div className="flex justify-between border-b pb-2">
                  <span className="text-slate-500">í‰ê°€</span>
                  <div className="flex text-yellow-400">
                    {[...Array(5)].map((_, i) => (
                      <Star key={i} className={`w-4 ${i < opt.stars ? 'fill-current' : 'text-slate-300'}`} />
                    ))}
                  </div>
                </div>
                <div className="space-y-1">
                   <span className="text-xs text-red-400 font-bold block">íƒˆë½ ì‚¬ìœ </span>
                   <p className="text-slate-600 whitespace-pre-line">{opt.reason}</p>
                </div>
              </div>
            </Card>
          ))}
        </div>
      </Section>

      {/* 4. Detail Analysis - Location */}
      <Section id="location" className="bg-white">
        <SectionTitle subtitle="ì™œ ì¼ë£¨ë¯¸ìŠ¤í…Œì´íŠ¸ ì¸ê°€?" icon={MapPin}>
          ìƒì„¸ ì…ì§€ ë¶„ì„
        </SectionTitle>

        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
          {/* Commute */}
          <Card className="bg-gradient-to-br from-indigo-50 to-blue-50 border-none">
            <div className="flex items-center gap-3 mb-6">
              <div className="bg-white p-2 rounded-lg shadow-sm">
                <Train className="text-indigo-600 w-6 h-6" />
              </div>
              <h3 className="text-xl font-bold text-slate-800">ì¶œí‡´ê·¼ ì‹œë®¬ë ˆì´ì…˜</h3>
            </div>
            
            <div className="space-y-6">
              <div className="bg-white/60 p-4 rounded-2xl">
                <div className="flex justify-between text-sm mb-2 font-semibold">
                  <span className="flex items-center gap-2"><span className="bg-slate-800 text-white px-2 py-0.5 rounded text-xs">ë‚¨í¸</span> ì¢…ê°/ì‹œì²­</span>
                  <span className="text-indigo-600">55ë¶„ ~ 1ì‹œê°„</span>
                </div>
                <div className="h-3 bg-slate-200 rounded-full overflow-hidden flex">
                  <div className="w-[20%] bg-slate-400 h-full"></div> 
                  <div className="w-[70%] bg-indigo-500 h-full relative group"></div>
                  <div className="w-[10%] bg-slate-400 h-full"></div>
                </div>
                <p className="text-xs text-slate-500 mt-2 text-right">ğŸšŒ ë²„ìŠ¤ â†’ ğŸš† 1í˜¸ì„  ìš©ì‚°ê¸‰í–‰ â†’ ğŸš¶ ë„ë³´</p>
              </div>

              <div className="bg-white/60 p-4 rounded-2xl">
                <div className="flex justify-between text-sm mb-2 font-semibold">
                  <span className="flex items-center gap-2"><span className="bg-pink-500 text-white px-2 py-0.5 rounded text-xs">ì•„ë‚´</span> ì‹ ë„ë¦¼</span>
                  <span className="text-pink-600">35ë¶„ ~ 40ë¶„</span>
                </div>
                <div className="h-3 bg-slate-200 rounded-full overflow-hidden flex">
                  <div className="w-[30%] bg-slate-400 h-full"></div>
                  <div className="w-[60%] bg-pink-500 h-full"></div>
                  <div className="w-[10%] bg-slate-400 h-full"></div>
                </div>
                <p className="text-xs text-slate-500 mt-2 text-right">âœ¨ í™˜ìƒì˜ ì§ì£¼ê·¼ì ‘ (ìœ¡ì•„ ì²´ë ¥ ë³´ì¡´)</p>
              </div>
            </div>
          </Card>

          {/* Education */}
          <Card className="bg-gradient-to-br from-emerald-50 to-teal-50 border-none">
             <div className="flex items-center gap-3 mb-6">
              <div className="bg-white p-2 rounded-lg shadow-sm">
                <School className="text-emerald-600 w-6 h-6" />
              </div>
              <h3 className="text-xl font-bold text-slate-800">ë§¹ëª¨ì‚¼ì²œì§€êµì˜ ì‹œì‘</h3>
            </div>
            
            <ul className="space-y-4">
              {[
                { title: "êµ­ê³µë¦½ ì–´ë¦°ì´ì§‘", desc: "ë‹¨ì§€ ë‚´ 3ê³³ ì´ìƒ. ë¹„ì˜¤ëŠ” ë‚  ì—˜ë¦¬ë² ì´í„° ë“±ì›.", highlight: true },
                { title: "ì´ˆí’ˆì•„ (ë²”ë°•ì´ˆ)", desc: "4ë‹¨ì§€ì™€ ë§ë¶™ì–´ ì°¨ë„ ê±´ë„ˆì§€ ì•ŠëŠ” ì•ˆì „ í†µí•™." },
                { title: "ìŠ¤íƒ€í•„ë“œ í‚¤ì¦ˆ ë¼ì´í”„", desc: "ë³„ë§ˆë‹¹ ë„ì„œê´€, ë¬¸í™”ì„¼í„°ê°€ ë‚´ ì§‘ ì•ë§ˆë‹¹." }
              ].map((item, i) => (
                <li key={i} className="flex gap-4 items-start group">
                  <div className="bg-white p-2 rounded-lg shadow-sm text-emerald-600 mt-1 group-hover:scale-110 transition-transform">
                    <BadgeCheck size={20} />
                  </div>
                  <div>
                    <h4 className="font-bold text-slate-800 flex items-center gap-2">
                      {item.title}
                      {item.highlight && <Badge color="green">Best</Badge>}
                    </h4>
                    <p className="text-sm text-slate-600">{item.desc}</p>
                  </div>
                </li>
              ))}
            </ul>
          </Card>
        </div>

        {/* Gallery Section */}
        <div className="mt-8 grid grid-cols-2 md:grid-cols-4 gap-4">
            {[
                { label: "ìŠ¤íƒ€í•„ë“œ ë„ì„œê´€", img: "https://images.unsplash.com/photo-1505664194779-8beaceb93744?auto=format&fit=crop&w=500&q=60" },
                { label: "ë‹¨ì§€ ë‚´ ê³µì›", img: "https://images.unsplash.com/photo-1575966424458-7e47b420f12c?auto=format&fit=crop&w=500&q=60" },
                { label: "ì•ˆì „í•œ ë†€ì´í„°", img: "https://images.unsplash.com/photo-1573822153835-43094894348a?auto=format&fit=crop&w=500&q=60" },
                { label: "ì¾Œì í•œ ì‹ ì¶•", img: "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?auto=format&fit=crop&w=500&q=60" },
            ].map((pic, idx) => (
                <div key={idx} className="relative aspect-square rounded-2xl overflow-hidden group">
                    <img src={pic.img} alt={pic.label} className="w-full h-full object-cover transition duration-700 group-hover:scale-110" />
                    <div className="absolute inset-0 bg-black/20 group-hover:bg-black/40 transition"></div>
                    <span className="absolute bottom-3 left-3 text-white font-bold text-sm bg-black/50 px-2 py-1 rounded backdrop-blur-sm">
                        {pic.label}
                    </span>
                </div>
            ))}
        </div>
      </Section>

      {/* 5. Financial Plan (Calculator) */}
      <Section id="money" className="bg-slate-50">
        <SectionTitle subtitle="í˜„ì‹¤ì ì¸ ëˆ ì´ì•¼ê¸°" icon={Wallet}>
          ìê¸ˆ ê³„íš ë° ì‹¤í–‰ ì „ëµ
        </SectionTitle>

        <div className="flex flex-col md:flex-row gap-8 items-stretch">
          
          <div className="w-full md:w-1/2 flex flex-col gap-6">
             <Card className="flex-1">
                <h3 className="text-xl font-bold text-slate-800 flex items-center gap-2 mb-6">
                  <Wallet className="text-blue-600"/> ìê¸ˆ ì¡°ë‹¬ êµ¬ì¡°
                </h3>
                <div className="space-y-4">
                    <div className="bg-slate-50 p-4 rounded-xl border border-slate-200 flex justify-between items-center">
                        <div>
                        <span className="block text-sm text-slate-500 mb-1">â‘  ë‚´ ìë³¸ (ì „ì„¸ê¸ˆ íšŒìˆ˜)</span>
                        <span className="text-xl font-bold text-slate-800">1ì–µ 3,000ë§Œ ì›</span>
                        </div>
                        <Badge color="dark">22%</Badge>
                    </div>
                    <div className="bg-blue-50 p-4 rounded-xl border border-blue-200 flex justify-between items-center relative overflow-hidden">
                        <div className="relative z-10">
                        <span className="block text-sm text-blue-600 mb-1 font-bold">â‘¡ ì‹ ìƒì•„ íŠ¹ë¡€ ëŒ€ì¶œ</span>
                        <span className="text-xl font-bold text-blue-900">4ì–µ 7,000ë§Œ ì›</span>
                        </div>
                        <Badge color="blue">78%</Badge>
                        <div className="absolute right-0 top-0 bottom-0 w-2 bg-blue-500"></div>
                    </div>
                </div>
             </Card>

             <div className="bg-red-50 p-6 rounded-3xl border border-red-100">
                <h4 className="font-bold text-red-700 flex items-center gap-2 mb-4">
                    <AlertTriangle size={20}/> íˆë“  ì½”ìŠ¤íŠ¸ (í˜„ê¸ˆ ì¤€ë¹„)
                </h4>
                <div className="space-y-3">
                    {[
                        { l: "ì·¨ë“ì„¸ (1.1%)", v: "ì•½ 660ë§Œ ì›" },
                        { l: "ì¤‘ê°œìˆ˜ìˆ˜ë£Œ", v: "ì•½ 240ë§Œ ì›" },
                        { l: "ì´ì‚¬/ì²­ì†Œë¹„", v: "ì•½ 200ë§Œ ì›" },
                        { l: "ì¤‘ë„ í‡´ì‹¤ë¹„", v: "ì•½ 100ë§Œ ì›" },
                    ].map((item, i) => (
                        <div key={i} className="flex justify-between text-sm text-red-800 border-b border-red-100 last:border-0 pb-2 last:pb-0">
                            <span>{item.l}</span><span className="font-bold">{item.v}</span>
                        </div>
                    ))}
                </div>
                <div className="mt-4 pt-4 border-t border-red-200 text-center font-bold text-red-600 bg-red-100/50 p-3 rounded-xl">
                    â¡ ì´ í•„ìš” í˜„ê¸ˆ: ì•½ 1,300ë§Œ ì›
                </div>
            </div>
          </div>

          {/* Calculator Widget */}
          <div className="w-full md:w-1/2">
             <LoanCalculator />
          </div>
        </div>
      </Section>

      {/* 6. Risks */}
      <Section className="bg-white">
        <div className="max-w-4xl mx-auto">
          <SectionTitle subtitle="ê°ê´€ì ì¸ íŒë‹¨ì„ ìœ„í•´" icon={ShieldAlert}>
            ëƒ‰ì •í•œ ë¦¬ìŠ¤í¬ ë¶„ì„
          </SectionTitle>
          <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
            {[
              { title: "ë¹„ì—­ì„¸ê¶Œ", desc: "ì—­ê³¡ì—­ê¹Œì§€ ë²„ìŠ¤ ì´ë™ í•„ìˆ˜.\nëˆˆ/ë¹„ ì˜¤ëŠ” ë‚  ë¶ˆí¸í•¨.", icon: <Train className="text-slate-400"/> },
              { title: "íˆ¬ì í›„í–‰ì„±", desc: "ëŒ€ì¥ì£¼ê°€ ì˜¤ë¥´ê³  ë‚œ ë’¤\në”°ë¼ ì˜¤ë¥´ëŠ” ì„±ê²©.", icon: <TrendingUp className="text-slate-400"/> },
              { title: "'ë¶€ì²œ' ê¼¬ë¦¬í‘œ", desc: "ì„œìš¸ ì£¼ì†Œì§€ê°€ ì•„ë‹˜.\ní•™êµ° í”„ë¦¬ë¯¸ì—„ì˜ í•œê³„.", icon: <MapPin className="text-slate-400"/> },
            ].map((item, idx) => (
              <div key={idx} className="bg-slate-50 p-6 rounded-3xl text-center hover:bg-white hover:shadow-xl transition border border-slate-100">
                <div className="bg-white w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-4 shadow-sm text-slate-500">
                  {item.icon}
                </div>
                <h4 className="font-bold text-slate-700 mb-2">{item.title}</h4>
                <p className="text-xs text-slate-500 whitespace-pre-line">{item.desc}</p>
              </div>
            ))}
          </div>
          <div className="mt-8 text-center bg-blue-50 p-6 rounded-2xl text-blue-800 font-medium animate-pulse">
            ğŸ’¡ ê²°ë¡ : ë‹¨ì ì€ ì–´ë¥¸ì´ ë¶€ì§€ëŸ°í•˜ë©´ ê·¹ë³µ ê°€ëŠ¥í•˜ì§€ë§Œ,<br className="md:hidden"/> <span className="font-bold underline">í™˜ê²½(ê³µì›, ìƒˆì§‘)ì€ ëˆìœ¼ë¡œë„ ëª» ë°”ê¿‰ë‹ˆë‹¤.</span>
          </div>
        </div>
      </Section>

      {/* 7. Action Plan */}
      <Section id="action" className="bg-slate-50 mb-24">
        <SectionTitle subtitle="ì´ë²ˆ ì£¼ë§ ë°”ë¡œ ê°€ë³´ì‹œì£ !" icon={Camera}>
          [ì‹¤ì „] ë§¤ìˆ˜ ì¶”ì²œ & ì²´í¬ë¦¬ìŠ¤íŠ¸
        </SectionTitle>

        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
           {/* Guide */}
           <div className="space-y-6">
             <div className="bg-white p-6 rounded-3xl shadow-sm border border-slate-200">
                <h3 className="text-xl font-bold text-slate-800 mb-4 flex items-center gap-2">
                    <MapPin className="text-red-500" /> ì„ì¥ ì½”ìŠ¤ ê°€ì´ë“œ
                </h3>
                <div className="space-y-4 relative pl-4 border-l-2 border-slate-100 ml-2">
                    {[
                        { t: "ìŠ¤íƒ€í•„ë“œ ì£¼ì°¨ì¥", d: "ë¬´ë£Œ ì£¼ì°¨ í›„ ë„ë³´ ì´ë™", c: "green" },
                        { t: "4ë‹¨ì§€ ì •ë¬¸ ì§„ì…", d: "ìŠ¤íƒ€í•„ë“œ ë°”ë¡œ ë§ì€í¸", c: "blue" },
                        { t: "ë‹¨ì§€ ë‚´ ì¡°ê²½ í™•ì¸", d: "ìœ ëª¨ì°¨ ëŒê³  ê±·ê¸° (í‰ì§€)", c: "blue" },
                        { t: "ë²”ë°•ì´ˆë“±í•™êµ", d: "408/409ë™ ë“±êµ£ê¸¸ í™•ì¸", c: "yellow" },
                        { t: "ë¶€ë™ì‚° ë°©ë¬¸", d: "ë§¤ë¬¼ ë‚´ë¶€ í™•ì¸", c: "purple" }
                    ].map((step, i) => (
                        <div key={i} className="relative pl-6">
                            <div className={`absolute -left-[21px] top-1 w-3 h-3 rounded-full border-2 border-white shadow bg-${step.c}-500`}></div>
                            <div className="font-bold text-slate-800 text-sm">{step.t}</div>
                            <div className="text-xs text-slate-500">{step.d}</div>
                        </div>
                    ))}
                </div>
             </div>

             <div className="bg-yellow-50 border border-yellow-200 p-6 rounded-3xl">
               <div className="flex items-center gap-2 mb-4">
                 <Star className="text-yellow-500 fill-yellow-500" />
                 <h4 className="font-bold text-yellow-800 text-lg">ì¶”ì²œ ë¡œì–„ë™ TOP 2</h4>
               </div>
               <div className="space-y-3">
                 <div className="bg-white/50 p-3 rounded-xl flex gap-3 items-center">
                   <div className="bg-yellow-400 text-yellow-900 font-black px-2 py-1 rounded text-xs">1ìˆœìœ„</div>
                   <div className="text-sm text-yellow-900"><b>408ë™ & 409ë™:</b> ë²”ë°•ì´ˆ ë°”ë¡œ ì•. ì¡°ìš©í•˜ê³  ì•ˆì „í•¨ (ê°•ì¶”)</div>
                 </div>
                 <div className="bg-white/50 p-3 rounded-xl flex gap-3 items-center">
                   <div className="bg-yellow-400 text-yellow-900 font-black px-2 py-1 rounded text-xs">2ìˆœìœ„</div>
                   <div className="text-sm text-yellow-900"><b>401ë™:</b> ë²„ìŠ¤ì •ë¥˜ì¥ & ìŠ¤íƒ€í•„ë“œì™€ ê°€ì¥ ê°€ê¹Œì›€</div>
                 </div>
               </div>
             </div>
           </div>

           {/* Checklist */}
           <Card>
             <h3 className="text-xl font-bold text-slate-800 mb-6 flex items-center gap-2">
                <CheckSquare className="text-blue-600"/> ì„ì¥ ì²´í¬ë¦¬ìŠ¤íŠ¸
             </h3>
             <div className="space-y-2">
                <ChecklistItem text="ë‹¨ì§€ ë‚´ ê²½ì‚¬ê°€ ì‹¬í•˜ì§€ ì•Šì€ê°€? (ìœ ëª¨ì°¨)" />
                <ChecklistItem text="ì´ˆë“±í•™êµ ê°€ëŠ” ê¸¸ì— ì°¨ë„ê°€ ì—†ëŠ”ê°€?" />
                <ChecklistItem text="4ë‹¨ì§€ì—ì„œ ìŠ¤íƒ€í•„ë“œê¹Œì§€ ë„ë³´ ì‹œê°„ì€?" />
                <ChecklistItem text="ì§‘ ë‚´ë¶€ ì¼ì¡°ëŸ‰ (ë‚¨í–¥ ìœ„ì£¼) í™•ì¸" />
                <ChecklistItem text="ì§€í•˜ì£¼ì°¨ì¥ ì—°ê²° ìƒíƒœ í™•ì¸" />
                <ChecklistItem text="ë¶€ë™ì‚° ì‚¬ì¥ë‹˜ê»˜ 'ê¸‰ë§¤' ì—¬ë¶€ ì¬í™•ì¸" />
             </div>
             <div className="mt-6 p-4 bg-slate-100 rounded-xl text-center text-xs text-slate-500">
                *í´ë¦­í•˜ì—¬ ì™„ë£Œ í‘œì‹œë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
             </div>
           </Card>
        </div>
      </Section>

      {/* Floating Nav */}
      <FloatingNav />

      {/* Footer */}
      <div className="bg-slate-900 text-white py-24 px-4 text-center">
        <div className="max-w-2xl mx-auto">
          <Heart className="w-20 h-20 text-pink-500 mx-auto mb-8 animate-pulse" />
          <h2 className="text-3xl md:text-5xl font-bold mb-8">
            ê°€ì¡±ì„ ìœ„í•œ ìµœê³ ì˜ ì„ íƒ
          </h2>
          <p className="text-lg md:text-xl text-slate-300 leading-relaxed mb-12">
            "ì•„ë‚´ì˜ í¸ì•ˆí•¨, ë¶€ëª¨ë‹˜ì˜ ê¸°ì¨, ê·¸ë¦¬ê³  ì•„ì´ì˜ ì•ˆì „.<br/>
            ì´ ëª¨ë“  ê²ƒì„ ì¡ì„ ìˆ˜ ìˆëŠ” ê³³ì€ ì¼ë£¨ë¯¸ìŠ¤í…Œì´íŠ¸ ë¿ì…ë‹ˆë‹¤.<br/><br/>
            <span className="text-white font-bold">ì´ë²ˆ ì£¼ë§, í–‰ë³µí•œ ë¯¸ë˜ë¥¼ ë§Œë‚˜ëŸ¬ ê°€ì‹œì£ .</span>"
          </p>
          <button className="bg-gradient-to-r from-blue-600 to-teal-500 hover:from-blue-500 hover:to-teal-400 text-white font-bold py-4 px-12 rounded-full text-lg shadow-lg hover:shadow-blue-500/50 transition transform hover:-translate-y-1">
            ë¶€ë™ì‚° ë°©ë¬¸ ì˜ˆì•½í•˜ê¸°
          </button>
        </div>
        <footer className="mt-24 text-slate-600 text-sm">
          2025 Family Housing Plan Project â€¢ Created for My Family
        </footer>
      </div>

    </div>
  );
}
